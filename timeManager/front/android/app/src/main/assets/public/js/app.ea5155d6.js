(function(){var e={6700:function(e,t,s){var o={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":1400,"./gu.js":1400,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id=6700},2861:function(e,t,s){"use strict";var o=s(9242),n=s(3396);function r(e,t,s,o,r,a){const l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(l)}var a={name:"App"},l=s(89);const i=(0,l.Z)(a,[["render",r]]);var c=i,d=s(2483),m=s(7139);function u(e,t,s,o,r,a){const l=(0,n.up)("LoginComponent"),i=(0,n.up)("ConnectedComponent");return(0,n.wg)(),(0,n.iD)("div",{class:(0,m.C_)([{centerContent:!a.isConnected},"h-full"])},[a.isConnected?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(l,{key:0,onConnected:a.connect},null,8,["onConnected"])),a.isConnected?((0,n.wg)(),(0,n.j4)(i,{key:1})):(0,n.kq)("",!0)],2)}var h=s.p+"img/Batman_Hand_Gun.ad4586bd.jpg";const p=e=>((0,n.dD)("data-v-348cf412"),e=e(),(0,n.Cn)(),e),g={class:"h-full md:h-auto flex flex-col-reverse md:inline-flex md:flex-row bg-white md:p-5 md:pl-0 md:rounded-3xl md:max-w-5xl opacity-0 transform md:translate-y-4 transition-all duration-500",ref:"formContainer"},f=p((()=>(0,n._)("div",{class:"md:w-1/12 flex items-end"},[(0,n._)("svg",{width:"69",height:"137",viewBox:"0 0 69 137",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.88116 0.164551H-4.88116V43.3888L-21.0732 3.31196L-30.1246 6.96895L-13.513 48.084L-44.869 16.728L-51.7719 23.631L-21.7186 53.6842L-60.6654 36.668L-64.5739 45.6137L-23.3636 63.6188H-68.3354V73.3812H-23.3636L-64.5739 91.3862L-60.6654 100.332L-21.7187 83.3158L-51.7719 113.369L-44.869 120.272L-13.513 88.9159L-30.1246 130.031L-21.0732 133.688L-4.88116 93.6112V136.835H4.88116V93.6112L21.0732 133.688L30.1243 130.031L13.5133 88.9159L44.869 120.272L51.7716 113.369L21.7183 83.3158L60.6654 100.332L64.5735 91.3862L23.3639 73.3812H68.3354V63.6188H23.3632L64.5735 45.6137L60.6654 36.668L21.7183 53.6842L51.7716 23.6309L44.869 16.728L13.5133 48.0839L30.1243 6.96895L21.0732 3.31196L4.88116 43.3888V0.164551Z",fill:"#001F3F"})])],-1))),w={class:"md:w-5/12 px-4 md:px-10 md:py-20 justify-center"},y=p((()=>(0,n._)("div",{class:"mb-5 text-center md:text-left"},[(0,n._)("h1",{class:"titleFont text-7xl text-center md:text-left"},"Bienvenue"),(0,n._)("h5",{class:"text-gray-400 ml-5 text-xs"}," Connectez-vous pour accéder à votre espace personnel ")],-1))),k={class:"mb-4"},v={class:"flex items-center border-b-2 border-gray-200 py-2"},C=p((()=>(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-3"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})],-1))),b={class:"mb-4"},x={class:"flex items-center border-b-2 border-gray-200 py-2"},_=p((()=>(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-3"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"})],-1))),j=p((()=>(0,n._)("div",{class:"flex items-center justify-center"},[(0,n._)("button",{class:"bg-blue-950 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full rounded-xl text-sm",type:"submit"}," CONNEXION ")],-1))),S=p((()=>(0,n._)("div",{class:"max-w-4/5 max-h-80 md:max-w-none md:max-h-none self-center md:self-auto md:w-6/12 relative"},[(0,n._)("img",{src:h,alt:"Batman tenant un pistolet",class:"w-full h-full object-cover rounded-2xl"})],-1)));function T(e,t,s,r,a,l){return(0,n.wg)(),(0,n.iD)("div",g,[f,(0,n._)("div",w,[y,(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)((e=>l.connexion()),["prevent"]))},[(0,n._)("div",k,[(0,n._)("div",v,[C,(0,n.wy)((0,n._)("input",{class:"appearance-none border-none w-full text-gray-700 leading-tight focus:outline-none focus:shadow-outline text-sm",id:"email",type:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e)},null,512),[[o.nr,a.email]])])]),(0,n._)("div",b,[(0,n._)("div",x,[_,(0,n.wy)((0,n._)("input",{class:"appearance-none border-none w-full text-gray-700 leading-tight focus:outline-none focus:shadow-outline text-sm",id:"password",type:"password",placeholder:"Mot de passe","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e)},null,512),[[o.nr,a.password]])])]),j],32)]),S],512)}var D={name:"LoginComponent",data(){return{email:"",password:"",connected:!1}},mounted(){const e=this.$refs.formContainer;e&&setTimeout((()=>{e.classList.add("appear")}),100)},watch:{connected(){this.$emit("connected",this.connected)}},methods:{async connexion(){const e="http://10.0.2.2:4000/api/users?username="+this.password+"&email="+this.email,t=await fetch(e).then((e=>e.json()));t.data.length>0&&(localStorage.setItem("user",JSON.stringify(t.data[0])),this.connected=!0)}}};const H=(0,l.Z)(D,[["render",T],["__scopeId","data-v-348cf412"]]);var L=H;const U={class:"flex flex-col-reverse md:grid md:grid-cols-4 h-full"};function M(e,t,o,r,a,l){const i=(0,n.up)("SidebarComponent"),c=(0,n.up)("Stats"),d=(0,n.up)("UserComponent"),u=(0,n.up)("WorkingTimes"),h=(0,n.up)("TeamComponent"),p=(0,n.up)("ClockManager");return(0,n.wg)(),(0,n.iD)("div",U,[(0,n.Wm)(i,{profileImage:s(9045),username:a.username,class:"h-auto md:col-span-1"},null,8,["profileImage","username"]),(0,n._)("main",{class:(0,m.C_)(["md:col-span-3",[""!==l.component.type?a.active:""]])},["dashboard"===l.component.type?((0,n.wg)(),(0,n.j4)(c,{key:0,user:e.currentUser},null,8,["user"])):(0,n.kq)("",!0),"userComponent"===l.component.type?((0,n.wg)(),(0,n.j4)(d,{key:1})):(0,n.kq)("",!0),"workingTimes"===l.component.type?((0,n.wg)(),(0,n.j4)(u,{key:2})):(0,n.kq)("",!0),"teamComponent"===l.component.type?((0,n.wg)(),(0,n.j4)(h,{key:3})):(0,n.kq)("",!0),"clock"===l.component.type?((0,n.wg)(),(0,n.j4)(p,{key:4})):(0,n.kq)("",!0)],2)])}const O=e=>((0,n.dD)("data-v-42fd7345"),e=e(),(0,n.Cn)(),e),E={class:"hidden md:flex flex-row gap-5 justify-center"},N=["src"],z={class:"flex flex-1 w-fit m-auto md:justify-center md:m-0 md:w-full md:block md:gap-3"},W={class:"md:mt-5 flex md:block"},V=O((()=>(0,n._)("p",{class:"hidden md:block text-[#405D9F] mb-1 px-4"},"Menu",-1))),I={class:"flex md:block sm:gap-3"},P=O((()=>(0,n._)("svg",{class:"md:mr-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[(0,n._)("path",{d:"M4.49934 7.02928C4.81483 6.93206 5.16339 7.04359 5.36229 7.31707C5.58329 7.62095 5.55714 8.039 5.3 8.31297L4.59565 8.83471C4.26191 9.11198 4.06776 9.52256 4.06522 9.95645V17.913C4.07474 19.2091 5.12562 20.2561 6.42174 20.2608H10.4217V20.2782C10.854 20.2782 11.2043 20.6286 11.2043 21.0608C11.2043 21.493 10.854 21.8434 10.4217 21.8434H6.42174C4.25781 21.8386 2.50478 20.0856 2.5 17.9217V9.95645C2.51384 9.03602 2.94588 8.17194 3.67391 7.60862L4.39565 7.06949L4.49934 7.02928ZM9.62174 2.79992C10.9421 1.73857 12.8231 1.73857 14.1435 2.79992L20.1522 7.59123C20.8642 8.16388 21.2822 9.02539 21.2913 9.93905L21.2826 17.913C21.2826 20.0789 19.5268 21.8347 17.3609 21.8347H15.6217C14.5734 21.8347 13.7222 20.9874 13.7174 19.9391V16.3391L13.7093 16.2484C13.6666 16.0131 13.4606 15.8347 13.213 15.8347H10.6043C10.4691 15.8347 10.3394 15.889 10.2446 15.9855C10.1498 16.082 10.0977 16.2125 10.1 16.3478V17.7217C10.1 18.1539 9.74961 18.5043 9.31739 18.5043C8.88517 18.5043 8.53478 18.1539 8.53478 17.7217V16.3478C8.53478 15.7966 8.75374 15.2679 9.14349 14.8782C9.53324 14.4884 10.0619 14.2695 10.613 14.2695H13.2217C14.3661 14.2743 15.2913 15.2033 15.2913 16.3478V19.9391C15.2913 20.1215 15.4392 20.2695 15.6217 20.2695H17.4043C18.701 20.2695 19.7522 19.2183 19.7522 17.9217V9.95645C19.7458 9.51519 19.5415 9.10015 19.1957 8.82601L13.187 4.03471C12.4293 3.41091 11.336 3.41091 10.5783 4.03471L8.64783 5.47819C8.29004 5.73512 7.79171 5.65336 7.53478 5.29558C7.27785 4.93779 7.35961 4.43947 7.71739 4.18253L9.62174 2.79992Z",fill:"black"})],-1))),B=O((()=>(0,n._)("svg",{class:"md:mr-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[(0,n._)("path",{d:"M15.0594 2C18.7106 2 21 4.27265 21 7.94063V10.1464L20.9934 10.2451C20.9452 10.5999 20.6411 10.8734 20.2731 10.8734H20.2647L20.1499 10.8642C19.9991 10.8398 19.8588 10.7677 19.7506 10.657C19.6154 10.5186 19.5417 10.3315 19.5462 10.1381V7.94063C19.5462 5.04969 17.9503 3.45383 15.0594 3.45383H7.94063C5.04134 3.45383 3.45383 5.04969 3.45383 7.94063V15.0677C3.45383 17.9587 5.04969 19.5462 7.94063 19.5462H15.0594C17.9587 19.5462 19.5462 17.9503 19.5462 15.0677C19.5462 14.6663 19.8716 14.3408 20.2731 14.3408C20.6746 14.3408 21 14.6663 21 15.0677C21 18.7274 18.7274 21 15.0677 21H7.94063C4.27265 21 2 18.7274 2 15.0677V7.94063C2 4.27265 4.27265 2 7.94063 2H15.0594ZM7.46438 9.17722C7.65721 9.18376 7.83953 9.26668 7.97117 9.40773C8.10282 9.54878 8.17299 9.73638 8.16623 9.9292V16.0035C8.15238 16.405 7.81571 16.7192 7.41425 16.7054C7.01278 16.6915 6.69856 16.3548 6.7124 15.9534V9.87071L6.72535 9.75704C6.7545 9.60803 6.83036 9.47102 6.94341 9.36676C7.08472 9.23644 7.27236 9.16817 7.46438 9.17722ZM11.5334 6.32806C11.9349 6.32806 12.2603 6.65351 12.2603 7.05497V15.9617C12.2603 16.3632 11.9349 16.6887 11.5334 16.6887C11.132 16.6887 10.8065 16.3632 10.8065 15.9617V7.05497C10.8065 6.65351 11.132 6.32806 11.5334 6.32806ZM15.5607 12.3857C15.9621 12.3857 16.2876 12.7111 16.2876 13.1126V15.9534C16.2876 16.3548 15.9621 16.6803 15.5607 16.6803C15.1592 16.6803 14.8338 16.3548 14.8338 15.9534V13.1126C14.8338 12.7111 15.1592 12.3857 15.5607 12.3857Z",fill:"black"})],-1))),Y=O((()=>(0,n._)("svg",{class:"md:mr-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[(0,n._)("path",{d:"M15.1393 2C18.1742 2 19.9918 3.85386 20 6.94923V16.0508C20 19.1461 18.1906 21 15.1476 21H12.4499C12.104 20.9611 11.8421 20.6629 11.8421 20.3079C11.8421 19.953 12.104 19.6548 12.4499 19.6159H15.1393C17.4586 19.6159 18.6265 18.4163 18.6265 16.0508V6.94923C18.6265 4.58366 17.4586 3.38411 15.1393 3.38411H7.85244C5.53314 3.38411 4.35704 4.58366 4.35704 6.94923V16.0508C4.35704 18.4163 5.53314 19.6159 7.85244 19.6159C8.1984 19.6548 8.46026 19.953 8.46026 20.3079C8.46026 20.6629 8.1984 20.9611 7.85244 21C4.81761 21 3 19.1461 3 16.0508V6.94923C3 3.84547 4.81761 2 7.85244 2H15.1393ZM14.8926 14.8344C15.2651 14.8344 15.567 15.1424 15.567 15.5223C15.567 15.9022 15.2651 16.2102 14.8926 16.2102H8.08273C7.71026 16.2102 7.40832 15.9022 7.40832 15.5223C7.40832 15.1424 7.71026 14.8344 8.08273 14.8344H14.8926ZM14.8926 10.8079C15.1528 10.7787 15.4066 10.9038 15.5457 11.13C15.6848 11.3563 15.6848 11.6437 15.5457 11.87C15.4066 12.0962 15.1528 12.2213 14.8926 12.1921H8.08273C7.73677 12.1531 7.47491 11.855 7.47491 11.5C7.47491 11.145 7.73677 10.8469 8.08273 10.8079H14.8926ZM10.6817 6.78985C11.0276 6.82875 11.2895 7.1269 11.2895 7.4819C11.2895 7.83689 11.0276 8.13504 10.6817 8.17395H8.09095C7.745 8.13504 7.48314 7.83689 7.48314 7.4819C7.48314 7.1269 7.745 6.82875 8.09095 6.78985H10.6817Z",fill:"black"})],-1))),Z={class:"md:mt-5 flex md:block"},F=O((()=>(0,n._)("p",{class:"hidden md:block text-[#405D9F] mb-1 px-4"}," Paramètres ",-1))),q={class:"flex md:block sm:gap-3"},A=O((()=>(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"black",width:"24",height:"24",class:"md:mr-3"},[(0,n._)("path",{class:"noClose","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})],-1))),J=O((()=>(0,n._)("svg",{class:"md:mr-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[(0,n._)("path",{d:"M20 18.3301C20 21.619 15.4345 22 12 22C11.6538 22 11.3127 21.995 10.9776 21.985C10.5791 21.975 10.2652 21.644 10.2772 21.247C10.2883 20.851 10.6325 20.553 11.0189 20.55C11.3409 20.559 11.6679 20.563 12 20.563C16.3492 20.563 18.555 19.8121 18.555 18.3301C18.555 16.8341 16.3492 16.0751 12 16.0751C7.65082 16.0751 5.44503 16.8271 5.44503 18.3101C5.44503 18.7951 5.61811 19.4981 7.1205 20.004C7.49887 20.131 7.70113 20.538 7.57333 20.913C7.44453 21.288 7.03597 21.493 6.6566 21.363C4.46088 20.624 4 19.2951 4 18.3101C4 15.0873 8.38109 14.6559 11.7884 14.6397L12.3808 14.6399C14.6531 14.6515 20 14.8521 20 18.3301ZM12 2C14.9706 2 17.3867 4.40194 17.3867 7.35387C17.3867 10.3048 14.9706 12.7067 12 12.7067C9.02943 12.7067 6.61233 10.3048 6.61233 7.35387C6.61233 4.40194 9.02943 2 12 2ZM12 3.43696C9.82642 3.43696 8.05836 5.19392 8.05836 7.35387C8.05836 9.51281 9.82642 11.2698 12 11.2698C14.1736 11.2698 15.9416 9.51281 15.9416 7.35387C15.9416 5.19392 14.1736 3.43696 12 3.43696Z",fill:"black"})],-1))),$=O((()=>(0,n._)("svg",{class:"md:mr-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[(0,n._)("path",{d:"M14.016 14.8441C14.4092 14.8441 14.7284 15.1391 14.7284 15.5025V16.3071C14.7284 18.3985 12.8872 20.1 10.6231 20.1H6.11357C3.84583 20.1 2 18.3942 2 16.2977C2 15.9343 2.3192 15.6401 2.71243 15.6401C3.10565 15.6401 3.42485 15.9343 3.42485 16.2977C3.42485 17.6691 4.63135 18.7832 6.11357 18.7832H10.6231C12.1017 18.7832 13.3035 17.6726 13.3035 16.3071V15.5025C13.3035 15.1391 13.6227 14.8441 14.016 14.8441ZM20.2874 10.8909C20.576 10.8909 20.836 11.0517 20.9461 11.2988C21.0562 11.545 20.9942 11.8289 20.7907 12.017L18.0872 14.5043C17.9475 14.6317 17.7661 14.6967 17.5838 14.6967C17.4016 14.6967 17.2184 14.6317 17.0796 14.5026C16.802 14.2444 16.802 13.828 17.0814 13.5715L18.5627 12.2085H9.17164C8.77842 12.2085 8.45829 11.9136 8.45829 11.5502C8.45829 11.1868 8.77842 10.8909 9.17164 10.8909H20.2874ZM10.6141 3C12.8827 3 14.7286 4.70579 14.7286 6.80234V7.59837C14.7286 7.96091 14.4094 8.2559 14.0161 8.2559C13.6229 8.2559 13.3037 7.96091 13.3037 7.59837V6.80234C13.3037 5.43086 12.0972 4.31675 10.6141 4.31675H6.10543C4.62691 4.31675 3.42504 5.4283 3.42504 6.79293V13.304C3.42504 13.6674 3.10584 13.9624 2.71261 13.9624C2.31939 13.9624 2.00019 13.6674 2.00019 13.304V6.79293C2.00019 4.70152 3.84139 3 6.10543 3H10.6141ZM17.0777 8.60039C17.3553 8.34046 17.805 8.33875 18.0853 8.59526L18.7663 9.21772C19.0466 9.47423 19.0485 9.89064 18.7718 10.1489C18.6321 10.2788 18.4489 10.3447 18.2657 10.3447C18.0844 10.3447 17.903 10.2805 17.7643 10.154L17.0824 9.53067C16.8029 9.27501 16.8011 8.85775 17.0777 8.60039Z",fill:"black"})],-1)));function R(e,t,s,o,r,a){return(0,n.wg)(),(0,n.iD)("nav",{onTouchstart:t[5]||(t[5]=e=>a.navbarName("start")),onTouchend:t[6]||(t[6]=e=>a.navbarName("end")),class:"overflow-x-auto overflow-y-hidden md:h-[calc(100%-2rem)] md:rounded-xl bg-[#f5f5f5] md:m-4 md:mr-0 py-2 md:px-4 md:py-6"},[(0,n._)("section",E,[(0,n._)("img",{src:s.profileImage,alt:"Logo de Batman",class:"h-12 w-auto"},null,8,N),(0,n._)("div",null,[(0,n._)("p",null,(0,m.zw)(e.currentUser.firstname),1),(0,n._)("p",null,(0,m.zw)(e.currentUser.lastname),1)])]),(0,n._)("section",z,[(0,n._)("article",W,[V,(0,n._)("ul",I,[(0,n._)("li",{class:(0,m.C_)([["dashboard"===a.component.type?r.active:r.inactive],"test"]),onClick:t[0]||(t[0]=e=>a.componentType("dashboard"))},[P,(0,n._)("p",{class:(0,m.C_)(["md:block",r.expanded?"block navbarNames":"hidden"])}," Accueil ",2)],2),(0,n._)("li",{class:(0,m.C_)(["clock"===a.component.type?r.active:r.inactive]),onClick:t[1]||(t[1]=e=>a.componentType("clock"))},[B,(0,n._)("p",{class:(0,m.C_)(["md:block",r.expanded?"block navbarNames":"hidden"])}," Pointeuse ",2)],2),"supermanager"===e.currentUser.role?((0,n.wg)(),(0,n.iD)("li",{key:0,class:(0,m.C_)(["workingTimes"===a.component.type?r.active:r.inactive]),onClick:t[2]||(t[2]=e=>a.componentType("workingTimes"))},[Y,(0,n._)("p",{class:(0,m.C_)(["md:block",r.expanded?"block navbarNames":"hidden"])}," Statistiques ",2)],2)):(0,n.kq)("",!0)])]),(0,n._)("article",Z,[F,(0,n._)("ul",q,[(0,n._)("li",{class:(0,m.C_)(["teamComponent"===a.component.type?r.active:r.inactive]),onClick:t[3]||(t[3]=e=>a.componentType("teamComponent"))},[A,(0,n._)("p",{class:(0,m.C_)(["md:block",r.expanded?"block navbarNames":"hidden"])}," Equipe ",2)],2),(0,n._)("li",{class:(0,m.C_)(["userComponent"===a.component.type?r.active:r.inactive]),onClick:t[4]||(t[4]=e=>a.componentType("userComponent","edit"))},[J,(0,n._)("p",{class:(0,m.C_)(["md:block",r.expanded?"block navbarNames":"hidden"])}," Profil ",2)],2),(0,n._)("li",{class:(0,m.C_)([r.inactive])},[$,(0,n._)("p",{class:(0,m.C_)(["md:block",r.expanded?"block navbarNames":"hidden"])}," Déconnexion ",2)],2)])])])],32)}var K=s(65),G={name:"SidebarComponent",data(){return{show:!1,expanded:!1,delay:null,active:"flex flex-col md:flex-row items-center mx-1 sm:mx-4 md:mx-0 py-2.5 px-2 md:px-4 rounded-lg hover:bg-gray-200 group text-xs md:text-base text-[#2990F1] bg-white shadow-lg shadow-gray-200 hover:!bg-white transition-all duration-200 activated-link",inactive:"flex flex-col md:flex-row items-center mx-1 sm:mx-4 md:mx-0 py-2.5 px-2 md:px-4 rounded-lg hover:bg-gray-200 group text-xs md:text-base text-[#444] md:text-[black] transition-all duration-200"}},props:{profileImage:String,username:String},computed:{...(0,K.Se)("component",["getComponent"]),...(0,K.Se)("user",["currentUser"]),component(){return this.getComponent}},methods:{...(0,K.nv)("component",["showComponent"]),...(0,K.nv)("user",["getUser"]),async componentType(e,t){e!==this.component.type?await this.setComponent(e,t,!0):await this.toggleShow(e,t)},async toggleShow(e,t){this.show=!this.show,await this.setComponent(e,t,this.show)},async setComponent(e,t,s){const o={type:e,show:s};t&&(await this.getUser(this.currentUser.id),o.childrenType=t),this.showComponent(o)},navbarName(e){this.expanded=!1,"start"===e&&(this.delay=setTimeout((()=>{this.expanded=!0}),500)),"end"===e&&(clearTimeout(this.delay),this.expanded=!1)}}};const Q=(0,l.Z)(G,[["render",R],["__scopeId","data-v-42fd7345"]]);var X=Q;const ee={class:"bg-transparent rounded p-1.5 flex flex-col gap-5"},te=(0,n._)("div",null,null,-1);function se(e,t,s,o,r,a){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",null,[(0,n._)("div",ee,[(0,n._)("button",{class:"border-2 border-black",onClick:t[0]||(t[0]=e=>a.clock("pointer"))},"Pointer"),(0,n._)("button",{class:"border-2 border-black",onClick:t[1]||(t[1]=e=>a.clock("stop"))},"Stopper")]),(0,n._)("div",null,[(0,n._)("p",null,(0,m.zw)(),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(this.divs,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,class:"flex flex-col"},[(0,n._)("p",null,"Heure du pointage : "+(0,m.zw)(e.checkTime),1),(0,n._)("p",null,"Heure de stop : "+(0,m.zw)(e.stopTime),1)])))),128)),(0,n._)("div",null,[(0,n._)("p",null,"Heures totales de travail dans la journée : "+(0,m.zw)(0!=this.displayTotalHours?a.buildTotalHour():""),1)])]),te],64)}s(560);var oe={name:"ClockManager",data(){return{clockIn:!1,clockOut:!0,actualHour:0,totalHours:0,stopHour:0,countClockInOut:0,countClickStopButton:0,clockID:1,userClocks:[],divs:[]}},async mounted(){this.actualHour=new Date;let e=this.actualHour.getDate();if(await this.getClocks(this.currentUser.id),localStorage.getItem("clockTotalHours")||localStorage.setItem("clockTotalHours","0"),localStorage.getItem("clocksUser")&&(this.totalHours=parseInt(localStorage.getItem("clockTotalHours")),this.divs=JSON.parse(localStorage.getItem("clocksUser"))),this.userClocks.length>0){let t=this.userClocks[this.userClocks.length-1],s=new Date(t.time).getDate();s!=e&&(this.refresh(),this.divs=[],localStorage.removeItem("clocksUser"),localStorage.setItem("clockTotalHours","0"))}},computed:{...(0,K.Se)("user",["currentUser"]),displayTotalHours(){return this.totalHours}},methods:{async postClock(e,t,s){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clock:{status:t,time:s}})},n=await fetch("http://10.0.2.2:4000/api/clocks/"+e,o),r=await n.json();console.log(r)},async getClocks(e){try{const t=await fetch("http://10.0.2.2:4000/api/clocks/"+e);if(!t.ok)throw new Error("Erreur du serveur");const s=await t.json();0===s.data.length?this.userClocks=[]:this.userClocks=s.data}catch(t){console.error("Error:",t)}},refresh(){this.stopHour=null,this.clockIn=!1,this.clockOut=!0,this.countClockInOut=0},buildTime(e){const t=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0"),n=`${t}h:${s}m:${o}s`;return n},buildTotalHour(){const e=Math.floor(this.totalHours/36e5),t=Math.floor(this.totalHours%36e5/6e4),s=Math.floor(this.totalHours%6e4/1e3),o=`${e.toString().padStart(2,"0")}h${t.toString().padStart(2,"0")}m${s.toString().padStart(2,"0")}s`;return o},addDivClock(e){1!=this.clockID&&this.clockID++;let t=this.buildTime(e),s={id:this.clockID,checkTime:t,stopTime:"00h00m00s"};if(this.divs.push(s),localStorage.getItem("clocksUser")){const e=JSON.parse(localStorage.getItem("clocksUser"));e.push(s);const t=JSON.stringify(e);localStorage.setItem("clocksUser",t)}else localStorage.setItem("clocksUser",JSON.stringify(this.divs))},async clock(e){if("pointer"===e&&this.clockOut&&!1===this.clockIn&&(this.clockIn=!0,this.clockOut=!1,this.actualHour=new Date,2===this.countClockInOut?(this.countClockInOut=1,await this.postClock(this.currentUser.id,this.clockIn,this.actualHour.toISOString()),this.addDivClock(this.actualHour)):(this.countClockInOut++,await this.postClock(this.currentUser.id,this.clockIn,this.actualHour.toISOString()),this.addDivClock(this.actualHour))),"stop"===e&&this.clockIn&&!1===this.clockOut){if(this.clockIn=!1,this.clockOut=!0,this.stopHour=new Date,this.divs[this.divs.length-1].stopTime=this.buildTime(this.stopHour),localStorage.getItem("clocksUser")&&localStorage.setItem("clocksUser",JSON.stringify(this.divs)),this.countClockInOut++,this.countClickStopButton++,this.totalHours+=this.stopHour-this.actualHour,this.countClickStopButton=1,localStorage.getItem("clockTotalHours")){let e=parseInt(localStorage.getItem("clockTotalHours"));e+=this.stopHour-this.actualHour,localStorage.setItem("clockTotalHours",e)}await this.postClock(this.currentUser.id,!1,this.stopHour.toISOString())}}}};const ne=(0,l.Z)(oe,[["render",se]]);var re=ne;const ae={class:"relative"},le={key:0},ie={key:1,class:"grid grid-cols-1 gap-4"},ce={class:"flex flex-col items-center pt-0 pb-1 p-2"},de={key:0},me={key:1},ue={class:"flex flex-col items-center pt-0 pb-1 p-2"},he={class:"flex flex-col items-center pt-0 pb-1 p-2"};function pe(e,t,s,r,a,l){const i=(0,n.up)("bar-chart");return(0,n.wg)(),(0,n.iD)("div",ae,[s.user.id!==e.currentUser.id?((0,n.wg)(),(0,n.iD)("div",le,[(0,n._)("button",{type:"submit",class:"text-white absolute left-2.5 top-2.5 bg-red-400 hover:bg-red-300 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:t[0]||(t[0]=(...e)=>l.hide&&l.hide(...e))}," Retour ")])):(0,n.kq)("",!0),a.dataLoaded?((0,n.wg)(),(0,n.iD)("div",ie,[(0,n._)("div",ce,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.selectedYear=e),onChange:t[2]||(t[2]=e=>l.getWorkingYearTimes()),class:"block py-2.5 px-0 w-40 bg-transparent border-0 border-b-2 border-gray-200 appearance-none dark:text-gray-400 dark:border-gray-700 focus:outline-none focus:ring-0 focus:border-gray-200 peer"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.generateYears,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t},(0,m.zw)(e),1)))),128))],544),[[o.bM,a.selectedYear]]),a.loading?((0,n.wg)(),(0,n.iD)("div",de," chargement en cours... ")):(0,n.kq)("",!0),a.error?((0,n.wg)(),(0,n.iD)("div",me," une erreur est survenue : "+(0,m.zw)(a.error),1)):(0,n.kq)("",!0),a.loading||a.error?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(i,{key:2,chart:l.chartDataForYear,class:"mt-2 w-full"},null,8,["chart"]))]),(0,n._)("div",ue,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.selectedMonth=e),onChange:t[4]||(t[4]=e=>l.getWorkingMonthTimes()),class:"block py-2.5 px-0 w-40 bg-transparent border-0 border-b-2 border-gray-200 appearance-none dark:text-gray-400 dark:border-gray-700 focus:outline-none focus:ring-0 focus:border-gray-200 peer"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.monthNames,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t},(0,m.zw)(e),1)))),128))],544),[[o.bM,a.selectedMonth]]),(0,n.Wm)(i,{chart:l.chartDataForMonth,class:"mt-2 w-full"},null,8,["chart"])]),(0,n._)("div",he,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>a.selectedWeek=e),onChange:t[6]||(t[6]=e=>l.getWorkingWeekTimes()),class:"block py-2.5 px-0 w-40 bg-transparent border-0 border-b-2 border-gray-200 appearance-none dark:text-gray-400 dark:border-gray-700 focus:outline-none focus:ring-0 focus:border-gray-200 peer"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.allWeeks,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t},(0,m.zw)(e),1)))),128))],544),[[o.bM,a.selectedWeek]]),(0,n.Wm)(i,{chart:l.chartDataForWeek,class:"mt-2 w-full"},null,8,["chart"])])])):(0,n.kq)("",!0)])}const ge={ref:"chartCanvas",class:"bg-white rounded-lg"};function fe(e,t,s,o,r,a){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("canvas",ge,null,512)])}var we=s(9646),ye=s(4870);we.kL.register(we.vn,we.uw,we.f$,we.ZL,we.Dx);var ke={name:"BarChart",props:{chart:{type:Object,required:!0}},data(){return{myChart:null}},mounted(){this.initializeChart()},beforeUpdate(){this.updateChartData()},methods:{initializeChart(){this.$refs.chartCanvas&&(this.myChart=(0,ye.XI)(new we.kL(this.$refs.chartCanvas,{type:"bar",data:this.chart.data,options:this.chart.options})))},updateChartData(){this.myChart&&(this.myChart.data.labels=JSON.parse(JSON.stringify(this.chart.data.labels)),this.myChart.data.datasets=JSON.parse(JSON.stringify(this.chart.data.datasets)),this.myChart.options=JSON.parse(JSON.stringify(this.chart.options)),this.myChart.update())}}};const ve=(0,l.Z)(ke,[["render",fe]]);var Ce=ve,be=s(6797),xe=s.n(be),_e=(s(3463),{name:"StatsComponent",components:{BarChart:Ce},data(){return{selectedYear:(new Date).getFullYear(),selectedMonth:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"][(new Date).getMonth()],dataLoaded:!1,yearsHours:0,monthsHours:0,weeksHours:0,allHoursOfMonth:[],allHoursOfWeek:[],allHoursOfDay:[],loading:!1,error:null,selectedWeek:xe()().week()}},props:{user:{type:Object,required:!0}},computed:{...(0,K.Se)("component",["getComponent"]),...(0,K.Se)("user",["currentUser"]),generateYears(){const e=[],t=(new Date).getFullYear();for(let s=0;s<10;s++)e.push(t-s);return e},weeksInSelectedMonth(){const e=[],t=this.monthNames.indexOf(this.selectedMonth);let s=xe()().year(this.selectedYear).month(t).startOf("month");while(s.month()===t){let o=s.clone().startOf("isoWeek"),n=s.clone().endOf("isoWeek");const r=s.isoWeek();o.month()!==t&&(o=s),n.month()!==t&&(n=s.clone().endOf("month"));let a={label:`Semaine ${r} - du ${o.date()} au ${n.date()} ${this.monthNames[t]}`,start:o.toDate(),end:n.toDate()};e.push(a),s.add(1,"week")}return e},getWeekDaysByWeekNumber(){const e=xe()().isoWeek(this.selectedWeek).startOf("isoWeek"),t=[];for(let s=0;s<7;s++){let o={label:e.clone().add(s,"days").format("dddd DD/MM"),start:e.clone().add(s,"days").startOf("day").toDate(),end:e.clone().add(s,"days").endOf("day").toDate()};t.push(o)}return t},monthNames(){return["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]},chartDataForYear(){return this.chart("Heures travaillées en "+this.selectedYear+" : "+this.yearsHours+"h",this.monthNames,this.allHoursOfMonth)},chartDataForMonth(){return this.chart("Heures travaillées en "+this.selectedMonth+" : "+this.monthsHours+"h",this.weeksInSelectedMonth.map((e=>e.label)),this.allHoursOfWeek)},chartDataForWeek(){return this.chart("Heures travaillées durant la semaine "+this.selectedWeek+" : "+this.weeksHours+"h",this.getWeekDaysByWeekNumber.map((e=>e.label)),this.allHoursOfDay)},component(){return this.getComponent},allWeeks(){const e=[];for(let t=1;t<=52;t++)e.push(t);return e}},watch:{"component.show":function(e){e||this.hide()}},async mounted(){await this.getWorkingYearTimes(),await this.getWorkingMonthTimes(),await this.getWorkingWeekTimes()},methods:{formatDateToSQL(e){return xe()(e).format("YYYY-MM-DDTHH:mm:ss")},async getWorkingTimes(e,t){e=this.formatDateToSQL(e),t=this.formatDateToSQL(t),this.loading=!0;const s=`http://localhost:4000/api/workingtimes/${this.user.id}?start=${e}&end=${t}`;try{const e=await fetch(s),t=await e.json();return this.loading=!1,t.data}catch(o){this.loading=!1,this.error=o}},estimationHours(e){const t=xe()(e.start),s=xe()(e.end),o=xe().duration(s.diff(t));return parseFloat(o.asHours().toFixed(2))},async calculateHoursForPeriod(e,t){const s=await this.getWorkingTimes(e,t);return s.reduce(((e,t)=>e+this.estimationHours(t)),0)},async getWorkingYearTimes(){this.dataLoaded=!1;const e=xe()().year(this.selectedYear).startOf("year"),t=xe()().year(this.selectedYear).endOf("year");this.yearsHours=await this.calculateHoursForPeriod(e.toDate(),t.toDate());const s=[];for(let o=0;o<12;o++){const e=xe()().year(this.selectedYear).month(o).startOf("month"),t=xe()().year(this.selectedYear).month(o).endOf("month");s.push(this.calculateHoursForPeriod(e.toDate(),t.toDate()))}this.allHoursOfMonth=await Promise.all(s),this.dataLoaded=!0},async getWorkingMonthTimes(){this.dataLoaded=!1;const e=this.monthNames.indexOf(this.selectedMonth),t=xe()().year(this.selectedYear).month(e).startOf("month"),s=xe()().year(this.selectedYear).month(e).endOf("month");this.monthsHours=await this.calculateHoursForPeriod(t.toDate(),s.toDate());const o=[];for(let n of this.weeksInSelectedMonth){const e=xe()(n.start),t=xe()(n.end);o.push(this.calculateHoursForPeriod(e,t))}this.allHoursOfWeek=await Promise.all(o),this.dataLoaded=!0},async getWorkingWeekTimes(){this.dataLoaded=!1;const e=this.monthNames.indexOf(this.selectedMonth),t=xe()([this.selectedYear,e]),s=t.clone().add(this.selectedWeek-1,"weeks").startOf("isoWeek"),o=s.clone().endOf("isoWeek");this.weeksHours=await this.calculateHoursForPeriod(s.toDate(),o.toDate());const n=[];for(let r of this.getWeekDaysByWeekNumber){const e=xe()(r.start),t=xe()(r.end);n.push(this.calculateHoursForPeriod(e,t))}this.allHoursOfDay=await Promise.all(n),this.dataLoaded=!0},chart(e,t,s){return{data:{labels:t,datasets:[{label:e,backgroundColor:"#f87979",data:s}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:"Heures"}}},plugins:{title:{display:!0,text:e}}}}},hide(){this.$emit("hide",!0)}}});const je=(0,l.Z)(_e,[["render",pe]]);var Se=je;function Te(e,t,s,o,r,a){const l=(0,n.up)("CreateProfile"),i=(0,n.up)("EditProfile");return(0,n.wg)(),(0,n.iD)(n.HY,null,["create"===a.component.childrenType?((0,n.wg)(),(0,n.j4)(l,{key:0})):(0,n.kq)("",!0),"edit"===a.component.childrenType?((0,n.wg)(),(0,n.j4)(i,{key:1})):(0,n.kq)("",!0)],64)}const De={class:"m-6"},He=(0,n._)("header",{class:"mb-6"},[(0,n._)("h2",{class:"text-center"},"Créer un profile")],-1),Le=(0,n._)("label",{for:"nom",class:"block text-sm font-medium leading-6 text-gray-900"}," Nom ",-1),Ue={class:"relative mt-2 rounded-md shadow-sm"},Me={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Oe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Ee=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),Ne=[Ee],ze=(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-gray-900"}," Prénom ",-1),We={class:"relative mt-2 rounded-md shadow-sm"},Ve={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Ie={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Pe=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),Be=[Pe],Ye=(0,n._)("label",{for:"pseudonyme",class:"block text-sm font-medium leading-6 text-gray-900"}," Pseudonyme ",-1),Ze={class:"relative mt-2 rounded-md shadow-sm"},Fe={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},qe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Ae=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),Je=[Ae],$e=(0,n._)("label",{for:"mail",class:"block text-sm font-medium leading-6 text-gray-900"}," E-mail ",-1),Re={class:"relative mt-2 rounded-md shadow-sm"},Ke={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Ge={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Qe=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),Xe=[Qe],et=(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-gray-900"}," Mot de passe ",-1),tt={class:"relative mt-2 rounded-md shadow-sm"},st={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ot={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},nt=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),rt=[nt],at=(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-gray-900"}," Vérification du mot de passe ",-1),lt={class:"relative mt-2 rounded-md shadow-sm"},it={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ct={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},dt=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),mt=[dt],ut={class:"flex gap-10 mt-5"};function ht(e,t,s,r,a,l){return(0,n.wg)(),(0,n.iD)("section",De,[He,(0,n._)("form",{onSubmit:t[8]||(t[8]=(0,o.iM)((()=>{}),["prevent"])),class:"flex flex-col gap-5"},[(0,n._)("div",null,[Le,(0,n._)("div",Ue,[(0,n._)("div",Me,[((0,n.wg)(),(0,n.iD)("svg",Oe,Ne))]),(0,n.wy)((0,n._)("input",{type:"text",name:"nom",id:"nom",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"vérification du mot de passe","onUpdate:modelValue":t[0]||(t[0]=e=>a.firstname=e)},null,512),[[o.nr,a.firstname]])])]),(0,n._)("div",null,[ze,(0,n._)("div",We,[(0,n._)("div",Ve,[((0,n.wg)(),(0,n.iD)("svg",Ie,Be))]),(0,n.wy)((0,n._)("input",{type:"text",name:"prenom",id:"prenom",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"vérification du mot de passe","onUpdate:modelValue":t[1]||(t[1]=e=>a.lastname=e)},null,512),[[o.nr,a.lastname]])])]),(0,n._)("div",null,[Ye,(0,n._)("div",Ze,[(0,n._)("div",Fe,[((0,n.wg)(),(0,n.iD)("svg",qe,Je))]),(0,n.wy)((0,n._)("input",{type:"text",name:"pseudonyme",id:"pseudonyme",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"pseudonyme","onUpdate:modelValue":t[2]||(t[2]=e=>a.username=e)},null,512),[[o.nr,a.username]])])]),(0,n._)("div",null,[$e,(0,n._)("div",Re,[(0,n._)("div",Ke,[((0,n.wg)(),(0,n.iD)("svg",Ge,Xe))]),(0,n.wy)((0,n._)("input",{type:"text",name:"mail",id:"mail",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"e-mail","onUpdate:modelValue":t[3]||(t[3]=e=>a.email=e)},null,512),[[o.nr,a.email]])])]),(0,n._)("div",null,[et,(0,n._)("div",tt,[(0,n._)("div",st,[((0,n.wg)(),(0,n.iD)("svg",ot,rt))]),(0,n.wy)((0,n._)("input",{type:"password",name:"password",id:"password",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Mot de passe","onUpdate:modelValue":t[4]||(t[4]=e=>a.password=e)},null,512),[[o.nr,a.password]])])]),(0,n._)("div",null,[at,(0,n._)("div",lt,[(0,n._)("div",it,[((0,n.wg)(),(0,n.iD)("svg",ct,mt))]),(0,n.wy)((0,n._)("input",{type:"password",name:"password",id:"password",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"vérification du mot de passe","onUpdate:modelValue":t[5]||(t[5]=e=>a.verifyPassword=e)},null,512),[[o.nr,a.verifyPassword]])])]),(0,n._)("div",null,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>a.roleSelected=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.roles,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t},(0,m.zw)(e),1)))),128))],512),[[o.bM,a.roleSelected]])]),(0,n._)("div",ut,[(0,n._)("button",{onClick:t[7]||(t[7]=(...e)=>l.createUser&&l.createUser(...e)),class:"bg-[#001F3F] text-white flex-1 rounded p-1"}," Créer ")])],32)])}var pt={name:"CreateProfile",data(){return{firstname:"",lastname:"",username:"",email:"",password:"",verifyPassword:"",roles:["user","manager","supermanager"],roleSelected:""}},computed:{...(0,K.Se)("user",["userSelected","currentUser"]),checkPassword(){return this.password===this.verifyPassword},userConnected(){return this.currentUser}},methods:{...(0,K.nv)("user",["create"]),async createUser(){if(this.checkPassword){const e={users:{firstname:this.firstname,lastname:this.lastname,password:this.password,username:this.username,email:this.email,role:this.roleSelected}};await this.create(e)}else alert("les mots de passe ne correspondent pas")}}};const gt=(0,l.Z)(pt,[["render",ht]]);var ft=gt;const wt={class:"m-6"},yt=(0,n._)("header",{class:"mb-6"},[(0,n._)("h2",{class:"text-center"},"Editer le profil")],-1),kt=(0,n._)("label",{for:"firstname",class:"block text-sm font-medium leading-6 text-gray-900"}," Prénom ",-1),vt={class:"relative mt-2 rounded-md shadow-sm"},Ct={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},bt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},xt=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),_t=[xt],jt=(0,n._)("label",{for:"lastname",class:"block text-sm font-medium leading-6 text-gray-900"}," Nom ",-1),St={class:"relative mt-2 rounded-md shadow-sm"},Tt={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Dt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Ht=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),Lt=[Ht],Ut=(0,n._)("label",{for:"pseudonyme",class:"block text-sm font-medium leading-6 text-gray-900"}," Pseudonyme ",-1),Mt={class:"relative mt-2 rounded-md shadow-sm"},Ot={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Et={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Nt=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),zt=[Nt],Wt=(0,n._)("label",{for:"mail",class:"block text-sm font-medium leading-6 text-gray-900"}," E-mail ",-1),Vt={class:"relative mt-2 rounded-md shadow-sm"},It={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Pt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Bt=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),Yt=[Bt],Zt=(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-gray-900"}," Mot de passe ",-1),Ft={class:"relative mt-2 rounded-md shadow-sm"},qt={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},At={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Jt=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),$t=[Jt],Rt=(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-gray-900"}," Vérification du mot de passe ",-1),Kt={class:"relative mt-2 rounded-md shadow-sm"},Gt={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Qt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Xt=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),es=[Xt],ts={key:0},ss={class:"flex gap-10 mt-5"};function os(e,t,s,r,a,l){return(0,n.wg)(),(0,n.iD)("section",wt,[yt,(0,n._)("form",{onSubmit:t[9]||(t[9]=(0,o.iM)((()=>{}),["prevent"])),class:"flex flex-col gap-5"},[(0,n._)("div",null,[kt,(0,n._)("div",vt,[(0,n._)("div",Ct,[((0,n.wg)(),(0,n.iD)("svg",bt,_t))]),(0,n.wy)((0,n._)("input",{type:"text",name:"firstname",id:"firstname",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"prénom","onUpdate:modelValue":t[0]||(t[0]=e=>a.firstname=e)},null,512),[[o.nr,a.firstname]])])]),(0,n._)("div",null,[jt,(0,n._)("div",St,[(0,n._)("div",Tt,[((0,n.wg)(),(0,n.iD)("svg",Dt,Lt))]),(0,n.wy)((0,n._)("input",{type:"text",name:"lastname",id:"lastname",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Nom","onUpdate:modelValue":t[1]||(t[1]=e=>a.lastname=e)},null,512),[[o.nr,a.lastname]])])]),(0,n._)("div",null,[Ut,(0,n._)("div",Mt,[(0,n._)("div",Ot,[((0,n.wg)(),(0,n.iD)("svg",Et,zt))]),(0,n.wy)((0,n._)("input",{type:"text",name:"pseudonyme",id:"pseudonyme",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"pseudonyme","onUpdate:modelValue":t[2]||(t[2]=e=>a.username=e)},null,512),[[o.nr,a.username]])])]),(0,n._)("div",null,[Wt,(0,n._)("div",Vt,[(0,n._)("div",It,[((0,n.wg)(),(0,n.iD)("svg",Pt,Yt))]),(0,n.wy)((0,n._)("input",{type:"text",name:"mail",id:"mail",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"e-mail","onUpdate:modelValue":t[3]||(t[3]=e=>a.email=e)},null,512),[[o.nr,a.email]])])]),(0,n._)("div",null,[Zt,(0,n._)("div",Ft,[(0,n._)("div",qt,[((0,n.wg)(),(0,n.iD)("svg",At,$t))]),(0,n.wy)((0,n._)("input",{type:"password",name:"password",id:"password",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Mot de passe","onUpdate:modelValue":t[4]||(t[4]=e=>a.password=e)},null,512),[[o.nr,a.password]])])]),(0,n._)("div",null,[Rt,(0,n._)("div",Kt,[(0,n._)("div",Gt,[((0,n.wg)(),(0,n.iD)("svg",Qt,es))]),(0,n.wy)((0,n._)("input",{type:"password",name:"password",id:"password",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Vérifier le mot de passe","onUpdate:modelValue":t[5]||(t[5]=e=>a.verifyPassword=e)},null,512),[[o.nr,a.verifyPassword]])])]),"manager"===e.currentUser.role?((0,n.wg)(),(0,n.iD)("div",ts,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>a.roleSelected=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.roles,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t},(0,m.zw)(e),1)))),128))],512),[[o.bM,a.roleSelected]])])):(0,n.kq)("",!0),(0,n._)("div",ss,[(0,n._)("button",{onClick:t[7]||(t[7]=(...e)=>l.deleteUser&&l.deleteUser(...e)),class:"bg-[#E26D5A] text-white flex-1 rounded p-1"}," Supprimer "),(0,n._)("button",{onClick:t[8]||(t[8]=(...e)=>l.updateUser&&l.updateUser(...e)),class:"bg-[#001F3F] text-white flex-1 rounded p-1"}," Editer ")])],32)])}var ns={name:"EditProfile",data(){return{firstname:"",lastname:"",username:"",email:"",password:"",verifyPassword:"",id:null,roleSelected:"",roles:["user","manager","supermanager"]}},computed:{...(0,K.Se)("user",["userSelected","currentUser"]),checkPassword(){return this.password===this.verifyPassword},getUser(){return this.userSelected}},watch:{getUser(e){e&&e.data&&(this.username=e.data.username,this.email=e.data.email,this.id=e.data.id,this.firstname=e.data.firstname,this.lastname=e.data.lastname,this.roleSelected=e.data.role)}},mounted(){console.log(this.getUser),this.username=this.getUser.data.username,this.email=this.getUser.data.email,this.id=this.getUser.data.id,this.firstname=this.getUser.data.firstname,this.lastname=this.getUser.data.lastname,this.roleSelected=this.getUser.data.role},beforeUnmount(){this.refreshUser()},methods:{...(0,K.nv)("user",["refreshUser","update","delete"]),async deleteUser(){await this.delete(this.getUser.data.id)},async updateUser(){if(this.verifyPassword){const e={users:{username:this.username,email:this.email,password:this.password,firstname:this.firstname,lastname:this.lastname,role:this.roleSelected}};await this.update({id:this.getUser.data.id,user:e})}else alert("les mots de passe ne correspondent pas")}}};const rs=(0,l.Z)(ns,[["render",os]]);var as=rs,ls={name:"UserComponent",components:{CreateProfile:ft,EditProfile:as},computed:{...(0,K.Se)("component",["getComponent"]),component(){return this.getComponent}}};const is=(0,l.Z)(ls,[["render",Te]]);var cs=is;const ds={key:0,class:"flex items-center justify-center h-screen"},ms={key:1,class:"flex items-center justify-center h-screen"},us={key:2},hs={key:0,class:""},ps={class:"grid grid-cols-3 p-2"},gs={class:"grid grid-cols-3 p-2"},fs={key:0,class:"text-left"},ws=["onClick"],ys=["onClick"],ks={key:1,class:"text-left"},vs={key:3,class:"p-6"};function Cs(e,t,s,o,r,a){const l=(0,n.up)("Vue-good-table"),i=(0,n.up)("Stats");return(0,n.wg)(),(0,n.iD)(n.HY,null,[r.isLoading?((0,n.wg)(),(0,n.iD)("div",ds," Chargement... ")):r.error?((0,n.wg)(),(0,n.iD)("div",ms,(0,m.zw)(r.error),1)):((0,n.wg)(),(0,n.iD)("div",us,[r.show?((0,n.wg)(),(0,n.iD)("div",hs,[(0,n._)("button",{onClick:t[0]||(t[0]=(...e)=>a.createProfile&&a.createProfile(...e)),class:"bg-blue-400 hover:bg-blue-500 text-white py-1 px-3 rounded"}," Créer un utilisateur "),(0,n.Wm)(l,{class:"w-full",columns:r.columns,rows:r.users.data,paginate:!0,lineNumbers:!0,"search-options":{enabled:!0,trigger:"enter",placeholder:"Rechercher"},sortable:!0,"sort-options":{enabled:!1},theme:"polar-bear"},{"table-header":(0,n.w5)((e=>[(0,n._)("div",ps,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.columns,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.field,class:"text-left"},(0,m.zw)(e.label),1)))),128))])])),"table-row":(0,n.w5)((e=>[(0,n._)("div",gs,["actions"===e.column.field?((0,n.wg)(),(0,n.iD)("div",fs,[(0,n._)("button",{onClick:t=>a.showStats(e.row.id),class:"bg-red-400 hover:bg-red-500 text-white py-1 px-3 rounded"}," Voir les statistiques ",8,ws),(0,n._)("button",{onClick:t=>a.editProfile(e.row.id),class:"bg-blue-400 hover:bg-blue-500 text-white py-1 px-3 rounded"}," editer le profil ",8,ys)])):((0,n.wg)(),(0,n.iD)("div",ks,(0,m.zw)(e.formattedRow[e.column.field]),1))])])),_:1},8,["columns","rows"])])):(0,n.kq)("",!0)])),r.showWorkingTimes?((0,n.wg)(),(0,n.iD)("div",vs,[(0,n.Wm)(i,{user:r.users.data.find((e=>e.id===this.id)),onHide:a.hide},null,8,["user","onHide"])])):(0,n.kq)("",!0)],64)}s(7531);var bs=s(3199),xs={name:"WorkingTimes",components:{Stats:Se,VueGoodTable:bs.K},data(){return{users:{data:[]},id:null,show:!0,showWorkingTimes:!1,isLoading:!0,error:null,columns:[{label:"Username",field:"username"},{label:"Email",field:"email"},{label:"Actions",field:"actions",html:!0}]}},async created(){try{this.users=await this.allUsers(),this.isLoading=!1}catch(e){this.error=e,this.isLoading=!1}},methods:{...(0,K.nv)("component",["showComponent"]),...(0,K.nv)("user",["getUser"]),async allUsers(){const e="http://localhost:4000/api/users";try{return await fetch(e).then((e=>e.json()))}catch(t){console.log(t)}},async editProfile(e){await this.getUser(e),this.showComponent({type:"userComponent",show:!0,childrenType:"edit"})},showStats(e){this.show=!1,this.id=e,this.showWorkingTimes=!0},hide(e){this.show=e,this.showWorkingTimes=!e},createProfile(){this.showComponent({type:"userComponent",show:!0,childrenType:"create"})}}};const _s=(0,l.Z)(xs,[["render",Cs]]);var js=_s;function Ss(e,t,s,o,r,a){const l=(0,n.up)("CreateTeam"),i=(0,n.up)("EditTeam");return(0,n.wg)(),(0,n.iD)(n.HY,null,[r.showButton&&"supermanager"===e.currentUser.role?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>a.show&&a.show(...e))}," Créer une équipe ")):"supermanager"===e.currentUser?((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>a.show&&a.show(...e))}," Retour ")):(0,n.kq)("",!0),r.showComponent||"supermanager"!==e.currentUser.role?((0,n.wg)(),(0,n.j4)(i,{key:3})):((0,n.wg)(),(0,n.j4)(l,{key:2}))],64)}const Ts={class:"m-6"},Ds=(0,n._)("header",{class:"mb-6"},[(0,n._)("h2",{class:"text-center"},"Créer une équipe")],-1),Hs=(0,n._)("label",{for:"nom",class:"block text-sm font-medium leading-6 text-gray-900"}," Nom ",-1),Ls={class:"relative mt-2 rounded-md shadow-sm"},Us={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},Ms={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"{1.5}",stroke:"currentColor",className:"w-3 h-3",style:{"margin-left":"-0.3em"},height:"1em"},Os=(0,n._)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1),Es=[Os],Ns={class:"flex gap-10 mt-5"};function zs(e,t,s,r,a,l){return(0,n.wg)(),(0,n.iD)("section",Ts,[Ds,(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)((()=>{}),["prevent"])),class:"flex flex-col gap-5"},[(0,n._)("div",null,[Hs,(0,n._)("div",Ls,[(0,n._)("div",Us,[((0,n.wg)(),(0,n.iD)("svg",Ms,Es))]),(0,n.wy)((0,n._)("input",{type:"text",name:"teamname",id:"teamname",class:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Nom de l'équipe","onUpdate:modelValue":t[0]||(t[0]=e=>a.teamname=e)},null,512),[[o.nr,a.teamname]])])]),(0,n._)("div",Ns,[(0,n._)("button",{onClick:t[1]||(t[1]=(...e)=>l.create&&l.create(...e)),class:"bg-[#001F3F] text-white flex-1 rounded p-1"}," Créer ")])],32)])}var Ws={name:"CreateTeam",components:{},data(){return{teamname:""}},methods:{...(0,K.nv)("team",["createTeam"]),async create(){await this.createTeam({team:{name:this.teamname}})}}};const Vs=(0,l.Z)(Ws,[["render",zs]]);var Is=Vs;function Ps(e,t,s,o,r,a){return(0,n.wg)(),(0,n.iD)("div")}var Bs={name:"EditTeam",components:{}};const Ys=(0,l.Z)(Bs,[["render",Ps]]);var Zs=Ys,Fs={name:"TeamComponent",components:{CreateTeam:Is,EditTeam:Zs},data(){return{showComponent:!0,showButton:!0}},computed:{...(0,K.Se)("user",["currentUser"])},methods:{show(){this.showComponent=!this.showComponent,this.showButton=!this.showButton}}};const qs=(0,l.Z)(Fs,[["render",Ss]]);var As=qs,Js={name:"ConnectedComponent",components:{TeamComponent:As,WorkingTimes:js,SidebarComponent:X,UserComponent:cs,Stats:Se,ClockManager:re},data(){return{username:"Batman",active:"test h-[calc(100%-2rem)] rounded-xl m-4 bg-[#f5f5f5] overflow-auto p-2"}},computed:{...(0,K.Se)("component",["getComponent"]),...(0,K.Se)("user",["currentUser"]),component(){return this.getComponent}}};const $s=(0,l.Z)(Js,[["render",M]]);var Rs=$s,Ks={name:"HomePage",components:{LoginComponent:L,ConnectedComponent:Rs},data(){return{connected:null}},computed:{isConnected(){return this.connected}},mounted(){null===localStorage.getItem("user")?this.connected=!1:(this.updateCurrentUser(JSON.parse(localStorage.getItem("user"))),this.showComponent({type:"dashboard"}),this.connected=!0)},methods:{...(0,K.nv)("user",["updateCurrentUser"]),...(0,K.nv)("component",["showComponent"]),connect(e){this.updateCurrentUser(JSON.parse(localStorage.getItem("user"))),this.showComponent({type:"dashboard"}),this.connected=e}}};const Gs=(0,l.Z)(Ks,[["render",u]]);var Qs=Gs;const Xs=[{path:"/",name:"HomePage",component:Qs}],eo=(0,d.p7)({history:(0,d.PO)(),routes:Xs});var to=eo;const so={connexion:!1,userSelected:null,currentUser:null},oo={isConnected:e=>e.connexion,userSelected:e=>e.userSelected,currentUser:e=>e.currentUser},no={SET_CONNECTION(e,t){e.connexion=t},SET_USER_SELECTED(e,t){e.userSelected=t},SET_CURRENT_USER(e,t){e.currentUser=t}},ro={updateConnection({commit:e},t){e("SET_CONNECTION",t)},updateCurrentUser({commit:e},t){e("SET_CURRENT_USER",t),e("SET_USER_SELECTED",t)},async create({commit:e},t){try{const s="http://localhost:4000/api/users";await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),console.log("User created",e("SET_USER_SELECTED",t))}catch(s){console.log(s)}},async getUser({commit:e},t){try{const s="http://localhost:4000/api/users/"+t,o=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json"}}),n=await o.json();e("SET_USER_SELECTED",n)}catch(s){console.log(s)}},async update({commit:e},{id:t,user:s}){try{const o="http://localhost:4000/api/users/"+t,n=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});e("SET_USER_SELECTED",n)}catch(o){console.log(o)}},refreshUser({commit:e}){e("SET_USER_SELECTED",null)},async delete({actions:e},t){try{const s="http://localhost:4000/api/users/"+t;await fetch(s,{method:"DELETE",headers:{"Content-Type":"application/json"}}),e.refreshUser()}catch(s){console.log(s)}}};var ao={namespaced:!0,state:so,getters:oo,mutations:no,actions:ro};const lo={component:{type:"",show:!1,childrenType:""}},io={getComponent:e=>e.component},co={SET_COMPONENT(e,t){const{type:s,show:o,childrenType:n}=t;e.component.type=s,e.component.show=o,e.component.childrenType=n}},mo={showComponent({commit:e},t){e("SET_COMPONENT",t)}};var uo={namespaced:!0,state:lo,getters:io,mutations:co,actions:mo};const ho={team:null,teams:[]},po={getTeam:e=>e.team,getTeams:e=>e.teams},go={SET_TEAM_SELECTED(e,t){e.team=t},SET_TEAMS(e,t){e.teams=t}},fo={async createTeam({commit:e},t){console.log(t);try{const s="http://localhost:4000/api/teams";await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),console.log(e("SET_TEAM_SELECTED",t))}catch(s){console.log(s)}}};var wo={namespaced:!0,state:ho,getters:po,mutations:go,actions:fo},yo={user:ao,component:uo,team:wo};const ko=(0,K.MT)({modules:yo});var vo=ko;const Co=(0,o.ri)(c);Co.use(to),Co.use(vo),Co.mount("#app")},9045:function(e,t,s){"use strict";e.exports=s.p+"img/Logo_Batman.e3bf61ba.png"}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=e,function(){var e=[];s.O=function(t,o,n,r){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],r=e[d][2];for(var l=!0,i=0;i<o.length;i++)(!1&r||a>=r)&&Object.keys(s.O).every((function(e){return s.O[e](o[i])}))?o.splice(i--,1):(l=!1,r<a&&(a=r));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,n,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,r,a=o[0],l=o[1],i=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(i)var d=i(s)}for(t&&t(o);c<a.length;c++)r=a[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},o=self["webpackChunkfront"]=self["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(2861)}));o=s.O(o)})();
//# sourceMappingURL=app.ea5155d6.js.map